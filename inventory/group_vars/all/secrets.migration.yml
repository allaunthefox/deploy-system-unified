---
# MIGRATION SECRETS - AUDIT REDACTED
# DANGER: Previous version contained plaintext credentials.
# These values MUST be provided via SOPS or Vault at runtime.

# CRITICAL: These secrets are validated in preflight_assertions.yml
# Deployment will FAIL if placeholder values are detected
authentik_secret_key: "{{ lookup('env', 'AUTHENTIK_SECRET_KEY') | default(omit, true) }}"
authentik_pg_password: "{{ lookup('env', 'AUTHENTIK_PG_PASSWORD') | default(omit, true) }}"
wikijs_pg_password: "{{ lookup('env', 'WIKIJS_PG_PASSWORD') | default(omit, true) }}"
vaultwarden_admin_token: "{{ lookup('env', 'VAULTWARDEN_ADMIN_TOKEN') | default(omit, true) }}"
database_password: "{{ lookup('env', 'DATABASE_PASSWORD') | default(omit, true) }}"

# Fallback: Generate random secrets if not provided (for testing only)
# Production MUST set environment variables
# authentik_secret_key: "{{ lookup('password', '/dev/null chars=ascii_letters,digits length=32') }}"
