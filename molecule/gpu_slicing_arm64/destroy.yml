# =============================================================================
# Audit Event Identifier: DSU-TST-1000742
# Last Updated: 2026-02-28
# =============================================================================
---
# destroy.yml - Ansible-Native container cleanup for gpu_slicing_arm64
# This playbook destroys the ARM64 GPU test instance
#
# Args:
#     None required - uses molecule instance name from create.yml
#
# Returns:
#     Destroys the Podman container 'gpu_slicing_arm64_instance' if it exists
#
# Example:
#     molecule destroy -s gpu_slicing_arm64

- name: Destroy
  hosts: localhost
  gather_facts: false

  tasks:
    # Remove the Podman container created in create.yml
    - name: Destroy molecule instance
      containers.podman.podman_container:
        name: gpu_slicing_arm64_instance
        state: absent
      failed_when: false
