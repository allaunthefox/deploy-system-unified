---
galaxy_info:
  role_name: authentik
  author: prod
  description: Authentik container role with negative tests
  license: MIT
  min_ansible_version: "2.15"
  platforms:
    - name: Ubuntu
      versions: [all]
    - name: Debian
      versions: [all]
    - name: Fedora
      versions: [all]
    - name: Archlinux
      versions: [all]
    - name: Alpine
      versions: [all]
  galaxy_tags: [containers, authentik]
<<<<<<< HEAD:projects/deploy-system-unified/roles/containers/authentik/meta/main.yml
# 'assumes_permissive' removed: metadata key unsupported by Ansible role metadata.
=======
# assumes_permissive: true
>>>>>>> origin/main:deploy-system-unified/roles/containers/authentik/meta/main.yml
# Authentik role has secrets and may be used with host-network assumptions in some profiles.

# Negative Testing
# This role includes comprehensive negative testing to ensure secret validation works correctly.
# Test files are located in: molecule/negative/
#
# Test scenarios cover:
# - Missing authentik.env file
# - Wrong file permissions (should be 0600)
# - Placeholder values in environment variables
# - Wrong file ownership
# - Missing Redis password file
# - Empty secrets files
#
# To run negative tests locally:
# cd roles/containers/authentik && molecule test --scenario-name negative
