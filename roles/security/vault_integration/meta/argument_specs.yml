# =============================================================================
# Audit Event Identifier: DSU-PLY-100396
# Last Updated: 2026-02-28
# =============================================================================
---
argument_specs:
  main:
    short_description: vault_integration role for HashiCorp Vault management
    description:
      - Installs and configures HashiCorp Vault for secrets management
      - Supports standalone, Kubernetes, and agent-only modes
      - Manages dynamic secrets and KV secret engines
      - Aligns with ISO 27001 and ISO 27002 requirements
    options:
      vault_install_mode:
        type: str
        required: false
        default: "standalone"
        description:
          - Installation mode: standalone, kubernetes, or agent_only
      vault_version:
        type: str
        required: false
        default: "1.15.0"
        description:
          - Vault version to install
      vault_config_dir:
        type: str
        required: false
        default: "/etc/vault"
        description:
          - Configuration directory for Vault
      vault_data_dir:
        type: str
        required: false
        default: "/var/lib/vault"
        description:
          - Data directory for Vault
      vault_log_dir:
        type: str
        required: false
        default: "/var/log/vault"
        description:
          - Log directory for Vault
      vault_enable_k8s_auth:
        type: bool
        required: false
        default: false
        description:
          - Enable Kubernetes authentication
      vault_k8s_host:
        type: str
        required: false
        default: "https://kubernetes.default.svc"
        description:
          - Kubernetes API host
      vault_k8s_role_name:
        type: str
        required: false
        default: "deploy-system"
        description:
          - Kubernetes auth role name
      vault_enable_dynamic_secrets:
        type: bool
        required: false
        default: false
        description:
          - Enable dynamic secrets generation
      vault_enable_agent_injector:
        type: bool
        required: false
        default: false
        description:
          - Enable Vault agent injector
      vault_addr:
        type: str
        required: false
        default: "http://127.0.0.1:8200"
        description:
          - Vault server address
