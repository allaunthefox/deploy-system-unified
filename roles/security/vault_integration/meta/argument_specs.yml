# =============================================================================
# Audit Event Identifier: DSU-ARG-100394
# Last Updated: 2026-03-01
# =============================================================================
---
argument_specs:
  main:
    short_description: HashiCorp Vault Integration
    description:
      - This role integrates system nodes with HashiCorp Vault for secure secret management, dynamic credential generation, and automated rotation.
    options:
      vault_install_mode:
        type: str
        default: "standalone"
        choices: ["standalone", "kubernetes", "agent_only"]
        description: The installation method for Vault or its agent.
      vault_version:
        type: str
        default: "1.15.0"
        description: The version of Vault to install.
      vault_addr:
        type: str
        default: "http://127.0.0.1:8200"
        description: The address of the Vault server.
      vault_enable_k8s_auth:
        type: bool
        default: false
        description: Whether to enable Kubernetes-based authentication.
      vault_enable_approle_auth:
        type: bool
        default: false
        description: Whether to enable AppRole-based authentication.
      vault_enable_dynamic_secrets:
        type: bool
        default: false
        description: Whether to enable dynamic secret generation.
      vault_enable_rotation:
        type: bool
        default: false
        description: Whether to enable automated secret rotation policies.
      vault_auto_unseal_enabled:
        type: bool
        default: false
        description: Whether to enable automatic unsealing using a transit key or cloud KMS.
      vault_enable_kv_secrets:
        type: bool
        default: false
        description: Whether to enable Key-Value (KV) engine interactions.
      vault_secrets_path:
        type: str
        default: "secret"
        description: The base path for KV secrets.
      vault_root_token:
        type: str
        default: ""
        description: Root token for initial configuration (use only in secure bootstrap).
