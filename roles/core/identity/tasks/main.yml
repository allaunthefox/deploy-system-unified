---
# Tasks for core/identity - Entropy-Backed UUID Generation
- name: "ISO 27001 ยง10.1 | ISO 8000-110 | Action 400011 | Generate high-entropy UUID for virtualization object"
  ansible.builtin.shell: |
    cat /proc/sys/kernel/random/uuid
  register: generated_uuid_output
  changed_when: false
  tags:
    - iso_27001_10_1
    - iso_8000
    - identity
    - forensics

- name: Set object identity fact
  ansible.builtin.set_fact:
    object_uuid: "{{ generated_uuid_output.stdout }}"
  tags:
    - identity

- name: Report generated identity
  ansible.builtin.debug:
    msg: "Object successfully assigned high-entropy UUID: {{ object_uuid }}"
  tags:
    - identity
