# =============================================================================
# Audit Event Identifier: DSU-TST-1000401
# Last Updated: 2026-02-28
# =============================================================================
---
# NIST SP 800-53 CM-5 | ISO 27001 ยง12.1
- name: Create
  hosts: localhost
  connection: local
  gather_facts: false
  tasks:
    - name: Create hardware_support test containers
      containers.podman.podman_container:
        name: "{{ item.name }}"
        image: "{{ item.image }}"
        command: "{{ item.command | default('/lib/systemd/systemd') }}"
        privileged: true
        volumes:
          - /sys/fs/cgroup:/sys/fs/cgroup:rw
        tmpfs:
          /run: "rw"
          /tmp: "rw"
        state: started
      loop:
        - { name: 'hardware-support-ubuntu-2204', image: 'docker.io/geerlingguy/docker-ubuntu2204-ansible:latest', command: '/lib/systemd/systemd' }
        - { name: 'hardware-support-debian-12', image: 'docker.io/geerlingguy/docker-debian12-ansible:latest', command: '/lib/systemd/systemd' }
        - { name: 'hardware-support-alpine-319', image: 'docker.io/geerlingguy/docker-alpine319-ansible:latest', command: '/sbin/init' }
        - { name: 'hardware-support-rockylinux-9', image: 'docker.io/geerlingguy/docker-rockylinux9-ansible:latest', command: '/usr/lib/systemd/systemd' }
