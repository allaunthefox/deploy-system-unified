# Goss tests for containers/lxc role

# =============================================================================
# PACKAGE TESTS
# =============================================================================
package:
  lxc:
    installed: true
  lxc-templates:
    installed: true

# =============================================================================
# FILE TESTS
# =============================================================================
file:
  /var/lib/lxc:
    exists: true
    filetype: directory

  /etc/lxc:
    exists: true
    filetype: directory

# =============================================================================
# SERVICE TESTS
# =============================================================================
service:
  lxc:
    enabled: true

# =============================================================================
# COMMAND TESTS
# =============================================================================
command:
  lxc_version:
    exec: 'lxc-info --version'
    exit-status: 0
    timeout: 10000

  lxc_ls:
    exec: 'lxc-ls'
    exit-status: 0
    timeout: 10000
