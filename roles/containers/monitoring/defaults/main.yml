---
# Defaults for containers/monitoring (Standardized 2026 Structure)

monitoring_enable: true
monitoring_instance: "default"
monitoring_root_dir: "/srv/monitoring/{{ monitoring_instance }}"
monitoring_config_dir: "/srv/containers/monitoring_config/{{ monitoring_instance }}"

# Network
monitoring_network: "host"
monitoring_pod_name: "mon-pod-{{ monitoring_instance }}"

# Images
monitoring_prometheus_image: "docker.io/prom/prometheus:v3.9.1"
monitoring_grafana_image: "docker.io/grafana/grafana:12.3.2"

# Security (Override these in Vault/SOPS)
# SECURITY REMEDIATION (CVE-DSU-021): Use vault-encrypted variable or environment lookup
monitoring_grafana_admin_user: "admin"
monitoring_grafana_admin_password: "{{ vault_grafana_admin_password | default(lookup('env', 'GRAFANA_ADMIN_PASSWORD'), true) }}"

# Loki & Promtail (Forensic Log Aggregation)
monitoring_loki_enable: "{{ system_monitoring_loki_enabled | default(true) }}"
monitoring_loki_image: "docker.io/grafana/loki:3.0.0"
monitoring_loki_port: 3100

monitoring_promtail_enable: "{{ system_monitoring_forensics_enabled | default(true) }}"
monitoring_promtail_image: "docker.io/grafana/promtail:3.0.0"

monitoring_forensic_dashboard_enabled: "{{ system_monitoring_dashboard_forensic | default(true) }}"

# Gatus (Service Health Dashboard)
monitoring_gatus_enable: true
monitoring_gatus_image: "docker.io/twinproduction/gatus:latest@sha256:ggggg2b9a06814f8673b8306e596659c0b42616e1510ef7f395c1c1f2c23f2bb2"
monitoring_gatus_port: 8080

# Hardening: fail-secure gating for secret checks
containers_monitoring_fail_secure: "{{ containers_fail_secure | default(true) }}"
