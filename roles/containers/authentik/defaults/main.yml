# =============================================================================
# Audit Event Identifier: DSU-PLY-100037
# Last Updated: 2026-02-28
# =============================================================================
---
# CIS Docker Benchmark | Pod Security Standards
# Defaults for containers/authentik

containers_authentik_enable: true
# Authentik version
authentik_version: "2024.2.1"

# Container images with explicit digests
containers_authentik_image_digest: "sha256:7f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a7f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a" # Example
containers_authentik_image: "ghcr.io/goauthentik/server:{{ authentik_version }}@{{ containers_authentik_image_digest }}"

containers_authentik_redis_image_digest: "sha256:8f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a8f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a" # Example
containers_authentik_redis_image: "docker.io/library/redis:alpine@{{ containers_authentik_redis_image_digest }}"

containers_authentik_postgres_image_digest: "sha256:9f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a9f0e0d0a0b0c0d0e0f0a0b0c0d0e0f0a" # Example
containers_authentik_postgres_image: "docker.io/library/postgres:16-alpine@{{ containers_authentik_postgres_image_digest }}"

# Configuration Paths - Namespaced by instance for multi-tenancy support if needed
containers_authentik_base_dir: /srv/containers/authentik
containers_authentik_data_dir: "{{ containers_authentik_base_dir }}/data"
containers_authentik_config_dir: "{{ containers_authentik_base_dir }}/config"

# Ports
containers_authentik_port_http: 9000
containers_authentik_port_https: 9443

# Database Config
containers_authentik_pg_user: authentik
containers_authentik_pg_db: authentik
containers_authentik_pg_pass: "SECURE_GATE_REQUIRED"

# Secret Key (Must be generated)
containers_authentik_secret_key: "SECURE_GATE_REQUIRED"

# Hardening: fail-secure gating for Authentik secret checks
containers_authentik_fail_secure: "{{ containers_fail_secure | default(true) }}"

# Email Configuration
containers_authentik_email_host: "smtp.example.com"
containers_authentik_email_port: 587
containers_authentik_email_username: "user"
containers_authentik_email_password: "password"
containers_authentik_email_from: "authentik@example.com"
containers_authentik_email_use_tls: true

# Networking
containers_authentik_network_name: "deploy-net"
