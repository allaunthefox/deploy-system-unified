---
# Defaults for containers/authentik

containers_authentik_enable: true
containers_authentik_image: ghcr.io/goauthentik/server:2024.2.1
containers_authentik_redis_image: docker.io/library/redis:alpine
containers_authentik_postgres_image: docker.io/library/postgres:16-alpine

# Configuration Paths - Namespaced by instance for multi-tenancy support if needed
containers_authentik_base_dir: /srv/containers/authentik
containers_authentik_data_dir: "{{ containers_authentik_base_dir }}/data"
containers_authentik_config_dir: "{{ containers_authentik_base_dir }}/config"

# Ports
containers_authentik_port_http: 9000
containers_authentik_port_https: 9443

# Database Config
containers_authentik_pg_user: authentik
containers_authentik_pg_db: authentik
containers_authentik_pg_pass: "changeme_please_secure_me"

# Secret Key (Must be generated)
containers_authentik_secret_key: "generate_me_with_openssl_rand_base64_60"

# Hardening: fail-secure gating for Authentik secret checks
containers_authentik_fail_secure: "{{ containers_fail_secure | default(true) }}"

# Email Configuration
containers_authentik_email_host: "smtp.example.com"
containers_authentik_email_port: 587
containers_authentik_email_username: "user"
containers_authentik_email_password: "password"
containers_authentik_email_from: "authentik@example.com"
containers_authentik_email_use_tls: true

# Networking
containers_authentik_network_name: "deploy-net"
