# =============================================================================
# Audit Event Identifier: DSU-HLM-300017
# Last Updated: 2026-02-28
# =============================================================================
---
# Database Stack Values
# =============================================================================
# SECURITY: Passwords are auto-generated if not provided (for testing only)
# For production, set passwords via secrets management or helm --set
# =============================================================================

# Service Account Configuration
serviceAccount:
  create: true
  name: ""  # Auto-generated if empty
  annotations: {}

# RBAC Configuration
rbac:
  create: true

# PostgreSQL
postgresql:
  enabled: true
  image:
    repository: postgres
    tag: "17"
  service:
    port: 5432
  database: app
  username: appuser
  # Password will be auto-generated if empty
  # For production: helm install ... --set postgresql.password=$(openssl rand -base64 32)
  password: ""  # Auto-generated if empty
  persistence:
    enabled: true  # Set to false for testing (uses emptyDir)
    size: 10Gi
    storageClass: ""  # Use default storage class

# Redis
redis:
  enabled: true
  image:
    repository: redis
    tag: "7"
  service:
    port: 6379
  # Password will be auto-generated if empty
  # For production: helm install ... --set redis.password=$(openssl rand -base64 32)
  password: ""  # Auto-generated if empty
  persistence:
    enabled: true  # Set to false for testing (uses emptyDir)
    size: 5Gi
    storageClass: ""  # Use default storage class
