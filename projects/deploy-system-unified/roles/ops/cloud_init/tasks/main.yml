---
# Tasks for ops/cloud_init - Cloud Provider Sync
- name: Wait for cloud-init to complete
  ansible.builtin.command: cloud-init status --wait
  become: true
  changed_when: false
  register: cloud_init_status
  failed_when: false # Don't fail if cloud-init isn't present
- name: Report cloud-init status
  ansible.builtin.debug:
    msg: "Cloud-init synchronization complete: {{ cloud_init_status.stdout | default('Not Present') }}"
