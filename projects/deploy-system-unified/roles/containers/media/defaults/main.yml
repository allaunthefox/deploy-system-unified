---
# Defaults for containers/media

# Multi-Tenancy / Instance Identification
media_instance_name: "default"
media_port_offset: 0
media_network: "media_net"

# Hardware Acceleration
# Enables passing /dev/dri to relevant containers (Jellyfin, Plex, potentially TDARR if added)
media_hw_accel: false
# Require Host AVX support for MongoDB/Jellyfin images (Fail if missing)
media_require_avx: false

media_stack_enable: true
media_root_dir: "/srv/media/{{ media_instance_name }}"
media_config_dir: "/srv/containers/media_config/{{ media_instance_name }}"

# User/Group for media permissions (Podman rootless or mapped)
# We typically run containers as root (Quadlet default) mapping to host users if needed.
# For simplicity with Podman Quadlets, we'll keep internal container users mapped.
media_puid: 1000
media_pgid: 1000
media_timezone: "UTC"

# Jellyfin (Media Server)
jellyfin_enable: true
jellyfin_image: docker.io/jellyfin/jellyfin:10.11.6
jellyfin_port_http: 8096
jellyfin_memory_max: 8G

# Plex (Media Server Alternative)
plex_enable: false
plex_image: docker.io/plexinc/pms-docker:1.43.0.10467-2b1ba6e69
plex_port_http: 32400
plex_claim_token: ""

# Servarr Stack
radarr_enable: true
radarr_image: docker.io/linuxserver/radarr:6.0.4
radarr_port: 7878

sonarr_enable: true
sonarr_image: docker.io/linuxserver/sonarr:4.0.16
sonarr_port: 8989

lidarr_enable: false
lidarr_image: docker.io/linuxserver/lidarr:3.1.0
lidarr_port: 8686

readarr_enable: false
readarr_image: docker.io/tainrs/readarr:develop
readarr_port: 8787

prowlarr_enable: true
prowlarr_image: docker.io/linuxserver/prowlarr:2.3.0
prowlarr_port: 9696

# Sub-services
jellyseerr_enable: false
jellyseerr_image: docker.io/fallenbagel/jellyseerr:2.7.3
jellyseerr_port: 5055

navidrome_enable: false
navidrome_image: docker.io/deluan/navidrome:0.59.0
navidrome_port: 4533

# Download Client (Transmission)
transmission_enable: true
transmission_image: docker.io/linuxserver/transmission:4.1.0
transmission_port_web: 9091
transmission_port_peer: 51413
transmission_user: "admin"
transmission_pass: "admin"

# Networking
# If true, all containers share a pod (e.g., 'media-pod') for local communication
media_pod_enable: true
media_pod_name: "media_pod_{{ media_instance_name }}"

# Reverse Proxy Configuration (Gatekeeper Mode)
# If true:
# 1. Binds service ports to internal pod network (deploy-net) if possible or localhost
# 2. Deploys Caddy configuration snippets for access
# 3. Requires 'containers/caddy' role to be enabled
media_gatekeeper_mode: false
media_domain: "media.example.com"
# Network to attach the pod to (must match Caddy's network if separate)
media_pod_network: "media_net"

# Authentication Integration
# Options: none, authentik
media_auth_provider: "none"
media_auth_url: "https://auth.example.com"


# Bazarr (Subtitle Management)
bazarr_enable: true
bazarr_image: lscr.io/linuxserver/bazarr:1.5.5
bazarr_port: 6767

# Kavita (Manga/Comics Server)
kavita_enable: true
kavita_image: docker.io/jvmilazz0/kavita:0.8.9
kavita_port: 5000

# Audiobookshelf (Audiobook Server)
audiobookshelf_enable: true
audiobookshelf_image: ghcr.io/advplyr/audiobookshelf:2.32.1
audiobookshelf_port: 13378
