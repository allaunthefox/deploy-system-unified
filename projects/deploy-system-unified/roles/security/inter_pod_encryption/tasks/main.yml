---
# Tasks for security/inter_pod_encryption - Kernel Readiness for Encrypted Traffic
- name: Ensure Wireguard kernel module is available
  ansible.builtin.shell: modprobe wireguard
  become: true
  changed_when: false
  ignore_errors: true
- name: Verify IPsec/ESP kernel modules for inter-node security
  ansible.builtin.shell: modprobe af_key && modprobe xfrm_user
  become: true
  changed_when: false
  ignore_errors: true
- name: Report encryption readiness
  ansible.builtin.debug:
    msg: "System is ready for Wireguard/IPSec based inter-pod encryption"
